<script src="/lib/set.js"></script>
<script>
  var selected = [];
	SplendorSelectableBehavior = {
		properties: {
      selectable: {
        type: Boolean,
        value: false
      },
      selected: {
        type: Boolean,
        value: false
      }
		},
    toggleSelected: function() {
      if (!this.selectable) {
        return;
      }
      this.set('selected', !this.selected);
      if (this.selected) {
        if (this.tagName == 'SPLENDOR-CARD' ||
            this.tagName == 'SPLENDOR-DECK') {
          selected.forEach(function(element) {
            if (element.selected) {
              element.set('selected', false);
              Set.remove(selected, element);
            }
          });
        } else if (this.tagName == 'SPLENDOR-CHIP') {
          selected.forEach(function(element) {
            if (element.tagName != 'SPLENDOR-CHIP' && element.selected) {
              element.set('selected', false);
              Set.remove(selected, element);
            }
          });
        }
      }
      if (this.selected) {
        Set.add(selected, this);
      } else {
        Set.remove(selected, this);
      }
    },
    elevation: function(selected) {
      if (selected) {
        return 5;
      }
      return 1;
    },
	};
</script>